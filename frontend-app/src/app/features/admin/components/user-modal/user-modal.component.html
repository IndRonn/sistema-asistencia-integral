<div *ngIf="isOpen()"
     class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm animate-fade-in">

  <div class="w-full max-w-lg bg-sys-surface border border-sys-dim shadow-2xl transform transition-all scale-100">

    <div class="h-1 w-full bg-sys-primary"></div>

    <div class="p-6">
      <h2 class="text-xl font-serif text-white mb-6">Reclutar Nuevo Personal</h2>

      <form [formGroup]="form" (ngSubmit)="submit()" class="space-y-4">

        <div class="grid grid-cols-2 gap-4">
          <div class="group">
            <label class="block text-xs uppercase text-gray-500 mb-1">Usuario</label>
            <input type="text" formControlName="username"
                   class="w-full bg-sys-black border border-sys-dim text-white py-2 px-3 focus:outline-none focus:border-sys-primary transition-all">
          </div>
          <div class="group">
            <label class="block text-xs uppercase text-gray-500 mb-1">Contraseña</label>
            <input type="password" formControlName="password"
                   class="w-full bg-sys-black border border-sys-dim text-white py-2 px-3 focus:outline-none focus:border-sys-primary transition-all">
            <span *ngIf="form.get('password')?.touched && form.get('password')?.errors?.['minlength']" class="text-[10px] text-sys-alert">Mín. 6 caracteres</span>
          </div>
        </div>

        <div class="grid grid-cols-2 gap-4">
          <div class="group">
            <label class="block text-xs uppercase text-gray-500 mb-1">Nombres</label>
            <input type="text" formControlName="nombres"
                   class="w-full bg-sys-black border border-sys-dim text-white py-2 px-3 focus:outline-none focus:border-sys-primary transition-all">
          </div>
          <div class="group">
            <label class="block text-xs uppercase text-gray-500 mb-1">Apellidos</label>
            <input type="text" formControlName="apellidos"
                   class="w-full bg-sys-black border border-sys-dim text-white py-2 px-3 focus:outline-none focus:border-sys-primary transition-all">
          </div>
        </div>

        <div class="group">
          <label class="block text-xs uppercase text-gray-500 mb-1">Correo Electrónico</label>
          <input type="email" formControlName="email"
                 class="w-full bg-sys-black border border-sys-dim text-white py-2 px-3 focus:outline-none focus:border-sys-primary transition-all">
        </div>

        <div class="group">
          <label class="block text-xs uppercase text-gray-500 mb-1">Rol / Rango</label>
          <select formControlName="rol"
                  class="w-full bg-sys-black border border-sys-dim text-white py-2 px-3 focus:outline-none focus:border-sys-primary transition-all appearance-none">
            <option value="EMPLEADO">Empleado</option>
            <option value="ADMIN">Administrador</option>
          </select>
        </div>

        <div class="flex justify-end gap-3 mt-8 pt-4 border-t border-sys-dim/30">
          <button type="button" (click)="close()"
                  class="px-4 py-2 text-xs uppercase font-bold text-gray-500 hover:text-white transition-colors">
            Cancelar
          </button>

          <button type="submit"
                  [disabled]="form.invalid || isSubmitting()"
                  class="bg-sys-primary hover:bg-green-900 text-white px-6 py-2 text-xs uppercase font-bold transition-all disabled:opacity-50 flex items-center gap-2">
            <span *ngIf="isSubmitting()" class="animate-pulse">Guardando...</span>
            <span *ngIf="!isSubmitting()">Crear Usuario</span>
          </button>
        </div>

      </form>
    </div>
  </div>
</div>
